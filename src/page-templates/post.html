{% extends "layout.html" %}

{% block content %}
<article itemscope itemtype="http://schema.org/Article">
    <h1 itemprop="name">{{post.title}}</h1>
    <time itemprop="datePublished" content="{{post.date}}" datetime="{{post.date}}">{{post.date}}</time>

    {% if post.tags.length %}
    <span class="tags">
        tags:
        {% for tag in post.tags %}<a href="{{tag.link}}">{{tag.title}}</a>
        {% endfor %}
    </span>
    {% endif %}

    <div class="clear"></div>

    <img itemprop="image" src="{{post.image}}">
    <div class="clear"></div>

    {{post.article}}
</article>

<div class="top-border-block share-buttons">
    <b class="label">Share:</b>

    <!-- twitter -->
    <a href="https://twitter.com/share" class="twitter-share-button"
       data-text="{{post.title}}"
       data-via="{{config.twitter}}">
        Tweet
    </a>
    <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
        if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';
        fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
    </script>
    <!-- /twitter -->
</div>

<div class="top-border-block comments">
    <b class="label">Comments:</b>
    <div id="disqus_thread"></div>
    <script>
        if (window.location.hostname !== 'localhost') {
            var disqus_config = function () {
                this.page.url = 'https://antonfisher.com{{post.link}}';
                this.page.identifier = '{{post.date}}';
            };
            (function () {
                var d = document, s = d.createElement('script');
                s.src = '//antonfishercom.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        }
    </script>
</div>
{% endblock %}
